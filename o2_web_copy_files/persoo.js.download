/* Build date: Mon Jun 22 2020 14:03:25 GMT+0200 (Central European Summer Time) for persoo.ai */(function() {var k,l=this;function n(b){return void 0!==b}
function aa(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof b.call)return"object";return c}function p(b){return"array"==aa(b)}function ba(b){var c=aa(b);return"array"==c||"object"==c&&"number"==typeof b.length}function r(b){return"string"==typeof b}function ca(b){return"number"==typeof b}function s(b){return"function"==aa(b)}function da(b){var c=typeof b;return"object"==c&&null!=b||"function"==c}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ga(b,c,d){return b.call.apply(b.bind,arguments)}
function ha(b,c,d){if(!b)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}}function t(b,c,d){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return t.apply(null,arguments)}
function ia(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=d.slice();c.push.apply(c,arguments);return b.apply(this,c)}}var ja=Date.now||function(){return+new Date};function u(b,c){var d=b.split("."),e=l;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)!d.length&&n(c)?e[f]=c:e=e[f]?e[f]:e[f]={}}
function ka(b,c){function d(){}d.prototype=c.prototype;b.Za=c.prototype;b.prototype=new d;b.prototype.constructor=b;b.Fc=function(b,d,g){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return c.prototype[d].apply(b,h)}};var la=window.persooConfig?window.persooConfig.personalizations_tolerance||2500:2500,ma=window.persooConfig?window.persooConfig.dataLayerName||"dataLayer":"dataLayer";var v={a:{}};v.a.A=1*new Date;v.a.wb=!0;v.a.vb=!1;v.R=[];v.messages=v.R;v.ub=1E3;v.reset=function(){v.R=[];v.messages=v.R;v.a.A=1*new Date};v.pa=function(b,c){v.a.wb&&0<c.length&&(v.R.length>=v.ub&&v.R.shift(),v.R.push(1*new Date-v.a.A+"ms: "+c[0]));var d=window;if(v.a.vb){var e=function(){},f={};d.console?(f=d.console,e=d.console[b]||d.console.info||e):d.opera&&(f=d.opera,e=d.opera.postError||e);try{e.apply(f,c)}catch(g){try{e(c.join(" "))}catch(h){}}}};v.log=function(){v.pa("log",arguments)};
v.info=function(){v.pa("info",arguments)};v.warn=function(){v.pa("warn",arguments)};v.error=function(){v.pa("error",arguments)};v.debug=function(){v.pa("debug",arguments)};var w=[],x={};function na(b){x[b]&&2==x[b]||(x[b]=1)}function oa(b){x[b]||v.warn("Register resource "+b+" before notification, that is has loaded.");if(2!==x[b]){x[b]=2;v.info("EVENT (resource loaded): "+b);var c=[];b=[];for(var d=0;d<w.length;d++)pa(w[d].Ib)?b.push(w[d]):c.push(w[d]);w=c;for(c=0;c<b.length;c++)b[c].X.call(b[c].oc)}}function y(b,c,d){pa(b)?c.call(d):w.push({Ib:b,X:c,oc:d})}
function pa(b){if(p(b))for(var c=0;c<b.length;c++){if(2!=x[b[c]])return!1}else if(2!=x[b])return!1;return!0};window.JSON||(window.JSON={parse:function(b){return eval("("+b+")")},stringify:function(b){if(b instanceof Object){var c="";if(b.constructor===Array){for(var d=0;d<b.length;d++)c+=this.stringify(b[d])+",";return"["+c.substr(0,c.length-1)+"]"}if(b.toString!==Object.prototype.toString)return'"'+b.toString().replace(/"/g,"\\$&")+'"';for(d in b)b.hasOwnProperty(d)&&(c+='"'+d.replace(/"/g,"\\$&")+'":'+this.stringify(b[d])+",");return"{"+c.substr(0,c.length-1)+"}"}return"string"===typeof b?'"'+b.replace(/"/g,
"\\$&")+'"':String(b)}});"function"!==typeof window.CustomEvent&&(window.CustomEvent=function(b,c){c=c||{bubbles:!1,cancelable:!1,detail:null};var d=document.createEvent("CustomEvent");d.initCustomEvent(b,c.bubbles,c.cancelable,c.detail);return d});function qa(b,c){var d=!1,e=!1;return function(){var f=this,g=arguments;d?e=!0:(b.apply(f,g),d=!0,setTimeout(function(){d=!1;e&&b.apply(f,g);e=!1},c))}};var ra;var sa=String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function z(b,c){return-1!=b.indexOf(c)}function ta(b,c){return b<c?-1:b>c?1:0}function ua(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};function va(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c}function xa(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c}var ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function za(b,c){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)b[d]=e[d];for(var g=0;g<ya.length;g++)d=ya[g],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}}
function Aa(b){var c=arguments.length;if(1==c&&p(arguments[0]))return Aa.apply(null,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=!0;return d};var Ba=Array.prototype.indexOf?function(b,c,d){return Array.prototype.indexOf.call(b,c,d)}:function(b,c,d){d=null==d?0:0>d?Math.max(0,b.length+d):d;if(r(b))return r(c)&&1==c.length?b.indexOf(c,d):-1;for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1},Ca=Array.prototype.forEach?function(b,c,d){Array.prototype.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=r(b)?b.split(""):b,g=0;g<e;g++)g in f&&c.call(d,f[g],g,b)},Da=Array.prototype.filter?function(b,c,d){return Array.prototype.filter.call(b,
c,d)}:function(b,c,d){for(var e=b.length,f=[],g=0,h=r(b)?b.split(""):b,m=0;m<e;m++)if(m in h){var q=h[m];c.call(d,q,m,b)&&(f[g++]=q)}return f};function A(b,c){return 0<=Ba(b,c)}function Ea(b){return Array.prototype.concat.apply(Array.prototype,arguments)}function Fa(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]}function Ga(b,c,d){return 2>=arguments.length?Array.prototype.slice.call(b,c):Array.prototype.slice.call(b,c,d)};function B(b,c){this.x=n(b)?b:0;this.y=n(c)?c:0}k=B.prototype;k.clone=function(){return new B(this.x,this.y)};k.toString=function(){return"("+this.x+", "+this.y+")"};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
k.translate=function(b,c){b instanceof B?(this.x+=b.x,this.y+=b.y):(this.x+=Number(b),ca(c)&&(this.y+=c));return this};k.scale=function(b,c){var d=ca(c)?c:b;this.x*=b;this.y*=d;return this};var C;a:{var Ha=l.navigator;if(Ha){var Ia=Ha.userAgent;if(Ia){C=Ia;break a}}C=""};var Ja=z(C,"Opera"),D=z(C,"Trident")||z(C,"MSIE"),Ka=z(C,"Edge"),La=z(C,"Gecko")&&!(z(C.toLowerCase(),"webkit")&&!z(C,"Edge"))&&!(z(C,"Trident")||z(C,"MSIE"))&&!z(C,"Edge"),E=z(C.toLowerCase(),"webkit")&&!z(C,"Edge");function Ma(){var b=l.document;return b?b.documentMode:void 0}var Na;
a:{var Oa="",Pa=function(){var b=C;if(La)return/rv\:([^\);]+)(\)|;)/.exec(b);if(Ka)return/Edge\/([\d\.]+)/.exec(b);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(E)return/WebKit\/(\S+)/.exec(b);if(Ja)return/(?:Version)[ \/]?(\S+)/.exec(b)}();Pa&&(Oa=Pa?Pa[1]:"");if(D){var Qa=Ma();if(null!=Qa&&Qa>parseFloat(Oa)){Na=String(Qa);break a}}Na=Oa}var Ra={};
function G(b){var c;if(!(c=Ra[b])){c=0;for(var d=sa(String(Na)).split("."),e=sa(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",m=e[g]||"",q=RegExp("(\\d*)(\\D*)","g"),F=RegExp("(\\d*)(\\D*)","g");do{var W=q.exec(h)||["","",""],wa=F.exec(m)||["","",""];if(0==W[0].length&&0==wa[0].length)break;c=ta(0==W[1].length?0:parseInt(W[1],10),0==wa[1].length?0:parseInt(wa[1],10))||ta(0==W[2].length,0==wa[2].length)||ta(W[2],wa[2])}while(0==c)}c=Ra[b]=0<=c}return c}
var Sa=l.document,Ta=Sa&&D?Ma()||("CSS1Compat"==Sa.compatMode?parseInt(Na,10):5):void 0;function Ua(b,c){this.width=b;this.height=c}k=Ua.prototype;k.clone=function(){return new Ua(this.width,this.height)};k.toString=function(){return"("+this.width+" x "+this.height+")"};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.scale=function(b,c){var d=ca(c)?c:b;this.width*=b;this.height*=d;return this};Aa("area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr");Aa("action","cite","data","formaction","href","manifest","poster","src");Aa("APPLET","BASE","EMBED","IFRAME","LINK","MATH","META","OBJECT","SCRIPT","STYLE","SVG","TEMPLATE");var Va=!La&&!D||D&&9<=Number(Ta)||La&&G("1.9.1");D&&G("9");var Wa=D||Ja||E;function Xa(b){var c=document;return r(b)?c.getElementById(b):b}function Ya(b){var c=document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+b):Za("*",b,void 0)}
function Za(b,c,d){var e=document;d=d||e;b=b&&"*"!=b?b.toUpperCase():"";if(d.querySelectorAll&&d.querySelector&&(b||c))return d.querySelectorAll(b+(c?"."+c:""));if(c&&d.getElementsByClassName){d=d.getElementsByClassName(c);if(b){for(var e={},f=0,g=0,h;h=d[g];g++)b==h.nodeName&&(e[f++]=h);e.length=f;return e}return d}d=d.getElementsByTagName(b||"*");if(c){e={};for(g=f=0;h=d[g];g++)b=h.className,"function"==typeof b.split&&A(b.split(/\s+/),c)&&(e[f++]=h);e.length=f;return e}return d}
function $a(b,c,d){function e(d){d&&c.appendChild(r(d)?b.createTextNode(d):d)}for(var f=1;f<d.length;f++){var g=d[f];!ba(g)||da(g)&&0<g.nodeType?e(g):Ca(ab(g)?Fa(g):g,e)}}function bb(b){return document.createElement(String(b))}function cb(b){return Va&&void 0!=b.children?b.children:Da(b.childNodes,function(b){return 1==b.nodeType})}
function db(b){var c;if(Wa&&!(D&&G("9")&&!G("10")&&l.SVGElement&&b instanceof l.SVGElement)&&(c=b.parentElement))return c;c=b.parentNode;return da(c)&&1==c.nodeType?c:null}function eb(b,c){if(!b||!c)return!1;if(b.contains&&1==c.nodeType)return b==c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b}function fb(b){return 9==b.nodeType?b:b.ownerDocument||b.document}
function ab(b){if(b&&"number"==typeof b.length){if(da(b))return"function"==typeof b.item||"string"==typeof b.item;if(s(b))return"function"==typeof b.item}return!1}function gb(b,c){return c?hb(b,function(b){return!c||r(b.className)&&A(b.className.split(/\s+/),c)}):null}function hb(b,c){for(var d=0;b;){if(c(b))return b;b=b.parentNode;d++}return null}function ib(b){this.H=b||l.document||document}k=ib.prototype;k.createElement=function(b){return this.H.createElement(String(b))};k.createTextNode=function(b){return this.H.createTextNode(String(b))};
k.appendChild=function(b,c){b.appendChild(c)};k.append=function(b,c){$a(fb(b),b,arguments)};k.canHaveChildren=function(b){if(1!=b.nodeType)return!1;switch(b.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
k.removeNode=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):null};k.contains=eb;function jb(b){jb[" "](b);return b}jb[" "]=function(){};function kb(b){var c;try{c=b.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}D&&b.ownerDocument.body&&(b=b.ownerDocument,c.left-=b.documentElement.clientLeft+b.body.clientLeft,c.top-=b.documentElement.clientTop+b.body.clientTop);return c}function lb(b){var c=b.offsetWidth,d=b.offsetHeight,e=E&&!c&&!d;return n(c)&&!e||!b.getBoundingClientRect?new Ua(c,d):(b=kb(b),new Ua(b.right-b.left,b.bottom-b.top))};var nb="closure_listenable_"+(1E6*Math.random()|0),ob=0;function pb(b,c,d,e,f){this.Q=b;this.Ca=null;this.src=c;this.type=d;this.ua=!!e;this.X=f;this.key=++ob;this.aa=this.ta=!1}function qb(b){b.aa=!0;b.Q=null;b.Ca=null;b.src=null;b.X=null};function rb(b){this.src=b;this.k={};this.ra=0}rb.prototype.add=function(b,c,d,e,f){var g=b.toString();b=this.k[g];b||(b=this.k[g]=[],this.ra++);var h=sb(b,c,e,f);-1<h?(c=b[h],d||(c.ta=!1)):(c=new pb(c,this.src,g,!!e,f),c.ta=d,b.push(c));return c};rb.prototype.remove=function(b,c,d,e){b=b.toString();if(!(b in this.k))return!1;var f=this.k[b];c=sb(f,c,d,e);return-1<c?(qb(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete this.k[b],this.ra--),!0):!1};
function tb(b,c){var d=c.type;if(!(d in b.k))return!1;var e=b.k[d],f=Ba(e,c),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);g&&(qb(c),0==b.k[d].length&&(delete b.k[d],b.ra--));return g}rb.prototype.Ka=function(b,c,d,e){b=this.k[b.toString()];var f=-1;b&&(f=sb(b,c,d,e));return-1<f?b[f]:null};function sb(b,c,d,e){for(var f=0;f<b.length;++f){var g=b[f];if(!g.aa&&g.Q==c&&g.ua==!!d&&g.X==e)return f}return-1};var ub=!D||9<=Number(Ta),vb=D&&!G("9");!E||G("528");La&&G("1.9b")||D&&G("8")||Ja&&G("9.5")||E&&G("528");La&&!G("8")||D&&G("9");function H(){0!=wb&&(xb[this[ea]||(this[ea]=++fa)]=this);this.wa=this.wa;this.Aa=this.Aa}var wb=0,xb={};H.prototype.wa=!1;H.prototype.Ja=function(){if(!this.wa&&(this.wa=!0,this.va(),0!=wb)){var b=this[ea]||(this[ea]=++fa);delete xb[b]}};H.prototype.va=function(){if(this.Aa)for(;this.Aa.length;)this.Aa.shift()()};function I(b,c){this.type=b;this.currentTarget=this.target=c;this.defaultPrevented=this.S=!1;this.ob=!0}I.prototype.stopPropagation=function(){this.S=!0};I.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ob=!1};function J(b,c){I.call(this,b?b.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.da=this.state=null;b&&this.Y(b,c)}ka(J,I);
J.prototype.Y=function(b,c){var d=this.type=b.type,e=b.changedTouches?b.changedTouches[0]:null;this.target=b.target||b.srcElement;this.currentTarget=c;var f=b.relatedTarget;if(f){if(La){var g;a:{try{jb(f.nodeName);g=!0;break a}catch(h){}g=!1}g||(f=null)}}else"mouseover"==d?f=b.fromElement:"mouseout"==d&&(f=b.toElement);this.relatedTarget=f;null===e?(this.offsetX=E||void 0!==b.offsetX?b.offsetX:b.layerX,this.offsetY=E||void 0!==b.offsetY?b.offsetY:b.layerY,this.clientX=void 0!==b.clientX?b.clientX:
b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0);this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.state=b.state;this.da=b;b.defaultPrevented&&
this.preventDefault()};J.prototype.stopPropagation=function(){J.Za.stopPropagation.call(this);this.da.stopPropagation?this.da.stopPropagation():this.da.cancelBubble=!0};J.prototype.preventDefault=function(){J.Za.preventDefault.call(this);var b=this.da;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,vb)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};var yb="closure_lm_"+(1E6*Math.random()|0),zb={},Ab=0;
function K(b,c,d,e,f){if(p(c)){for(var g=0;g<c.length;g++)K(b,c[g],d,e,f);return null}d=Bb(d);if(b&&b[nb])b=b.I.add(String(c),d,!1,e,f);else{if(!c)throw Error("Invalid event type");var g=!!e,h=Cb(b);h||(b[yb]=h=new rb(b));d=h.add(c,d,!1,e,f);if(!d.Ca){e=Db();d.Ca=e;e.src=b;e.Q=d;if(b.addEventListener)b.addEventListener(c.toString(),e,g);else if(b.attachEvent)b.attachEvent(Eb(c.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");Ab++}b=d}return b}
function Db(){var b=Fb,c=ub?function(d){return b.call(c.src,c.Q,d)}:function(d){d=b.call(c.src,c.Q,d);if(!d)return d};return c}function Gb(b,c,d,e,f){if(p(c))for(var g=0;g<c.length;g++)Gb(b,c[g],d,e,f);else d=Bb(d),b&&b[nb]?b.I.remove(String(c),d,e,f):b&&(b=Cb(b))&&(c=b.Ka(c,d,!!e,f))&&Hb(c)}
function Hb(b){if(ca(b)||!b||b.aa)return!1;var c=b.src;if(c&&c[nb])return tb(c.I,b);var d=b.type,e=b.Ca;c.removeEventListener?c.removeEventListener(d,e,b.ua):c.detachEvent&&c.detachEvent(Eb(d),e);Ab--;(d=Cb(c))?(tb(d,b),0==d.ra&&(d.src=null,c[yb]=null)):qb(b);return!0}function Eb(b){return b in zb?zb[b]:zb[b]="on"+b}function Ib(b,c,d,e){var f=!0;if(b=Cb(b))if(c=b.k[c.toString()])for(c=c.concat(),b=0;b<c.length;b++){var g=c[b];g&&g.ua==d&&!g.aa&&(g=Jb(g,e),f=f&&!1!==g)}return f}
function Jb(b,c){var d=b.Q,e=b.X||b.src;b.ta&&Hb(b);return d.call(e,c)}
function Fb(b,c){if(b.aa)return!0;if(!ub){var d;if(!(d=c))a:{d=["window","event"];for(var e=l,f;f=d.shift();)if(null!=e[f])e=e[f];else{d=null;break a}d=e}f=d;d=new J(f,this);e=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var g=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(h){g=!0}if(g||void 0==f.returnValue)f.returnValue=!0}f=[];for(g=d.currentTarget;g;g=g.parentNode)f.push(g);for(var g=b.type,m=f.length-1;!d.S&&0<=m;m--){d.currentTarget=f[m];var q=Ib(f[m],g,!0,d),e=e&&q}for(m=0;!d.S&&m<f.length;m++)d.currentTarget=
f[m],q=Ib(f[m],g,!1,d),e=e&&q}return e}return Jb(b,new J(c,this))}function Cb(b){b=b[yb];return b instanceof rb?b:null}var Kb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Bb(b){if(s(b))return b;b[Kb]||(b[Kb]=function(c){return b.handleEvent(c)});return b[Kb]};var Lb=!D;function Mb(b,c,d){Lb&&b.dataset?b.dataset[c]=d:b.setAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase(),d)}function Nb(b,c){return Lb&&b.dataset?c in b.dataset?b.dataset[c]:null:b.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function Ob(b){if(Lb&&b.dataset)return b.dataset;var c={};b=b.attributes;for(var d=0;d<b.length;++d){var e=b[d];if(0==e.name.lastIndexOf("data-",0)){var f=ua(e.name.substr(5));c[f]=e.value}}return c};function Pb(b){this.H=b||{cookie:""}}var Qb=/\s*;\s*/;k=Pb.prototype;k.isEnabled=function(){return navigator.cookieEnabled};k.set=function(b,c,d,e,f,g){if(/[;=\s]/.test(b))throw Error('Invalid cookie name "'+b+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');n(d)||(d=-1);f=f?";domain="+f:"";e=e?";path="+e:"";g=g?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(ja()+1E3*d)).toUTCString();this.H.cookie=b+"="+c+f+e+d+g};
k.get=function(b,c){for(var d=b+"=",e=(this.H.cookie||"").split(Qb),f=0,g;g=e[f];f++){if(0==g.lastIndexOf(d,0))return g.substr(d.length);if(g==b)return""}return c};k.remove=function(b,c,d){var e=this.N(b);this.set(b,"",0,c,d);return e};k.C=function(){return Rb(this).keys};k.n=function(){return Rb(this).sc};k.N=function(b){return n(this.get(b))};k.clear=function(){for(var b=Rb(this).keys,c=b.length-1;0<=c;c--)this.remove(b[c])};
function Rb(b){b=(b.H.cookie||"").split(Qb);for(var c=[],d=[],e,f,g=0;f=b[g];g++)e=f.indexOf("="),-1==e?(c.push(""),d.push(f)):(c.push(f.substring(0,e)),d.push(f.substring(e+1)));return{keys:c,sc:d}}var L=new Pb("undefined"==typeof document?null:document);L.yc=3950;var Sb=null;function Tb(){var b;if(document.domain){var c=document.domain;b=c.split(".");var d=b.length;1>=d||c.match(/\d+\.\d+\.\d+\.\d+/)?b=null:(c=b.slice(-2),2<d&&2>=b[d-2].length&&D&&(c=b.slice(-3)),3<d&&(c=b.slice(-3)),b="."+c.join("."))}else b=null;return b};function Ub(b){return/^[0-9a-zA-Z+\/]{24}$/.test(b)}
function Vb(){for(var b=1*new Date,c,d=[],e=0;8>e;e++)c=b%256,b=(b-c)/256,d.push(c);d=d.reverse();for(e=0;10>e;e++)d.push(Math.floor(256*Math.random()));b=d;if(!Sb)for(Sb={},c=0;65>c;c++)Sb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c);c=Sb;d=[];for(e=0;e<b.length;e+=3){var f=b[e],g=e+1<b.length,h=g?b[e+1]:0,m=e+2<b.length,q=m?b[e+2]:0,F=f>>2,f=(f&3)<<4|h>>4,h=(h&15)<<2|q>>6,q=q&63;m||(q=64,g||(h=64));d.push(c[F],c[f],c[h],c[q])}return d.join("")}
function Wb(b,c,d){d=Math.min(d||63072E3,"permanent"==(window.persoo&&window.persoo.profileDataCollectionLevel||"permanent")?63072E3:-1);L.set(b,c,d,"/");var e=Tb();L.set(b,c,d,"/",e)}function Xb(b){L.remove(b,"/");var c=Tb();L.remove(b,"/",c)}var M=ia(Wb,"persooVid"),Yb=ia(Xb,"persooVid"),Zb=ia(Wb,"persooAnonymousVid"),ac=ia(Xb,"persooAnonymousVid");function bc(){Yb();ac();Xb("persooIdentificationOnCurrentPage")}
function cc(b,c){"page"==c?Xb("persooIdentificationOnCurrentPage"):b&&Wb("persooIdentificationOnCurrentPage",b,"session"==c?-1:63072E3)}function dc(){var b=L.get("persooAnonymousVid");Ub(b)||(b=null);return b};function ec(b,c){this.u={};this.j=[];this.e=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else if(b){b instanceof ec?(d=b.C(),e=b.n()):(d=xa(b),e=va(b));for(var f=0;f<d.length;f++)this.set(d[f],e[f])}}k=ec.prototype;k.n=function(){fc(this);for(var b=[],c=0;c<this.j.length;c++)b.push(this.u[this.j[c]]);return b};k.C=function(){fc(this);return this.j.concat()};k.N=function(b){return gc(this.u,b)};
k.clear=function(){this.u={};this.e=this.j.length=0};k.remove=function(b){return gc(this.u,b)?(delete this.u[b],this.e--,this.j.length>2*this.e&&fc(this),!0):!1};function fc(b){if(b.e!=b.j.length){for(var c=0,d=0;c<b.j.length;){var e=b.j[c];gc(b.u,e)&&(b.j[d++]=e);c++}b.j.length=d}if(b.e!=b.j.length){for(var f={},d=c=0;c<b.j.length;)e=b.j[c],gc(f,e)||(b.j[d++]=e,f[e]=1),c++;b.j.length=d}}k.get=function(b,c){return gc(this.u,b)?this.u[b]:c};
k.set=function(b,c){gc(this.u,b)||(this.e++,this.j.push(b));this.u[b]=c};k.forEach=function(b,c){for(var d=this.C(),e=0;e<d.length;e++){var f=d[e],g=this.get(f);b.call(c,g,f,this)}};k.clone=function(){return new ec(this)};function gc(b,c){return Object.prototype.hasOwnProperty.call(b,c)};var hc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function ic(b,c){if(b)for(var d=b.split("&"),e=0;e<d.length;e++){var f=d[e].indexOf("="),g=null,h=null;0<=f?(g=d[e].substring(0,f),h=d[e].substring(f+1)):g=d[e];c(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};function jc(b){if(b.n&&"function"==typeof b.n)return b.n();if(r(b))return b.split("");if(ba(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return va(b)}
function kc(b,c,d){if(b.forEach&&"function"==typeof b.forEach)b.forEach(c,d);else if(ba(b)||r(b))Ca(b,c,d);else{var e;if(b.C&&"function"==typeof b.C)e=b.C();else if(b.n&&"function"==typeof b.n)e=void 0;else if(ba(b)||r(b)){e=[];for(var f=b.length,g=0;g<f;g++)e.push(g)}else e=xa(b);for(var f=jc(b),g=f.length,h=0;h<g;h++)c.call(d,f[h],e&&e[h],b)}};function N(b,c){this.B=this.U=this.L="";this.$=null;this.P=this.v="";this.o=this.Vb=!1;var d;if(b instanceof N)this.o=n(c)?c:b.o,lc(this,b.L),d=b.U,O(this),this.U=d,d=b.B,O(this),this.B=d,mc(this,b.$),d=b.v,O(this),this.v=d,nc(this,b.s.clone()),d=b.P,O(this),this.P=d;else if(b&&(d=String(b).match(hc))){this.o=!!c;lc(this,d[1]||"",!0);var e=d[2]||"";O(this);this.U=oc(e);e=d[3]||"";O(this);this.B=oc(e,!0);mc(this,d[4]);e=d[5]||"";O(this);this.v=oc(e,!0);nc(this,d[6]||"",!0);d=d[7]||"";O(this);this.P=
oc(d)}else this.o=!!c,this.s=new pc(null,0,this.o)}N.prototype.toString=function(){var b=[],c=this.L;c&&b.push(qc(c,rc,!0),":");var d=this.B;if(d||"file"==c)b.push("//"),(c=this.U)&&b.push(qc(c,rc,!0),"@"),b.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.$,null!=d&&b.push(":",String(d));if(d=this.v)this.B&&"/"!=d.charAt(0)&&b.push("/"),b.push(qc(d,"/"==d.charAt(0)?sc:tc,!0));(d=this.s.toString())&&b.push("?",d);(d=this.P)&&b.push("#",qc(d,uc));return b.join("")};
N.prototype.resolve=function(b){var c=this.clone(),d=!!b.L;d?lc(c,b.L):d=!!b.U;if(d){var e=b.U;O(c);c.U=e}else d=!!b.B;d?(e=b.B,O(c),c.B=e):d=null!=b.$;e=b.v;if(d)mc(c,b.$);else if(d=!!b.v){if("/"!=e.charAt(0))if(this.B&&!this.v)e="/"+e;else{var f=c.v.lastIndexOf("/");-1!=f&&(e=c.v.substr(0,f+1)+e)}f=e;if(".."==f||"."==f)e="";else if(z(f,"./")||z(f,"/.")){for(var e=0==f.lastIndexOf("/",0),f=f.split("/"),g=[],h=0;h<f.length;){var m=f[h++];"."==m?e&&h==f.length&&g.push(""):".."==m?((1<g.length||1==
g.length&&""!=g[0])&&g.pop(),e&&h==f.length&&g.push("")):(g.push(m),e=!0)}e=g.join("/")}else e=f}d?(O(c),c.v=e):d=""!==b.s.toString();d?nc(c,oc(b.s.toString())):d=!!b.P;d&&(b=b.P,O(c),c.P=b);return c};N.prototype.clone=function(){return new N(this)};function lc(b,c,d){O(b);b.L=d?oc(c,!0):c;b.L&&(b.L=b.L.replace(/:$/,""))}function mc(b,c){O(b);if(c){c=Number(c);if(isNaN(c)||0>c)throw Error("Bad port number "+c);b.$=c}else b.$=null}
function nc(b,c,d){O(b);c instanceof pc?(b.s=c,b.s.Ya(b.o)):(d||(c=qc(c,vc)),b.s=new pc(c,0,b.o))}function O(b){if(b.Vb)throw Error("Tried to modify a read-only Uri");}N.prototype.Ya=function(b){this.o=b;this.s&&this.s.Ya(b);return this};function oc(b,c){return b?c?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function qc(b,c,d){return r(b)?(b=encodeURI(b).replace(c,xc),d&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}
function xc(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var rc=/[#\/\?@]/g,tc=/[\#\?:]/g,sc=/[\#\?]/g,vc=/[\#\?@]/g,uc=/#/g;function pc(b,c,d){this.e=this.b=null;this.m=b||null;this.o=!!d}function P(b){b.b||(b.b=new ec,b.e=0,b.m&&ic(b.m,function(c,d){b.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}k=pc.prototype;k.add=function(b,c){P(this);this.m=null;b=yc(this,b);var d=this.b.get(b);d||this.b.set(b,d=[]);d.push(c);this.e+=1;return this};
k.remove=function(b){P(this);b=yc(this,b);return this.b.N(b)?(this.m=null,this.e-=this.b.get(b).length,this.b.remove(b)):!1};k.clear=function(){this.b=this.m=null;this.e=0};k.N=function(b){P(this);b=yc(this,b);return this.b.N(b)};k.C=function(){P(this);for(var b=this.b.n(),c=this.b.C(),d=[],e=0;e<c.length;e++)for(var f=b[e],g=0;g<f.length;g++)d.push(c[e]);return d};
k.n=function(b){P(this);var c=[];if(r(b))this.N(b)&&(c=Ea(c,this.b.get(yc(this,b))));else{b=this.b.n();for(var d=0;d<b.length;d++)c=Ea(c,b[d])}return c};k.set=function(b,c){P(this);this.m=null;b=yc(this,b);this.N(b)&&(this.e-=this.b.get(b).length);this.b.set(b,[c]);this.e+=1;return this};k.get=function(b,c){var d=b?this.n(b):[];return 0<d.length?String(d[0]):c};
k.toString=function(){if(this.m)return this.m;if(!this.b)return"";for(var b=[],c=this.b.C(),d=0;d<c.length;d++)for(var e=c[d],f=encodeURIComponent(String(e)),e=this.n(e),g=0;g<e.length;g++){var h=f;""!==e[g]&&(h+="="+encodeURIComponent(String(e[g])));b.push(h)}return this.m=b.join("&")};k.clone=function(){var b=new pc;b.m=this.m;this.b&&(b.b=this.b.clone(),b.e=this.e);return b};function yc(b,c){var d=String(c);b.o&&(d=d.toLowerCase());return d}
k.Ya=function(b){b&&!this.o&&(P(this),this.m=null,this.b.forEach(function(b,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<b.length&&(this.m=null,this.b.set(yc(this,e),Fa(b)),this.e+=b.length))},this));this.o=b};k.extend=function(b){for(var c=0;c<arguments.length;c++)kc(arguments[c],function(b,c){this.add(c,b)},this)};function Q(b,c){var d=c;"undefined"!==typeof window.persooConfig&&"undefined"!==typeof window.persooConfig[b]&&(d=window.persooConfig[b]);var d=L.get(b,d),e=new N(window.location);forceOption=e.s.get(b)||e.s.get(b.toLowerCase());"undefined"!==typeof forceOption&&(d=forceOption,R(b,d,-1));try{d=JSON.parse(d)}catch(f){}return d}function R(b,c,d){d=d instanceof Date?1*d-1*new Date/1E3:"number"===typeof d&&0<=d?86400*d:-1;var e=Tb();L.set(b,c,d,"/",e)}
function zc(b){var c=Tb();L.remove(b,"/");L.remove(b,"/",c)};function Ac(b,c){this.protocol=Q("rtpProtocol","auto");this.hostname=Q("rtpHostname","rtp.persoo.ai");this.pathname=Q("rtpPathname","");this.Fa=b;this.environment=c;this.K=[];this.method="workflow.js";this.$a=!1;this.yb=!0}function S(b,c,d){if(/('|")/.exec(c))throw"Parameter '"+c+"' contains invalid characters";for(var e=0;e<b.K.length;e++){var f=b.K[e];if(f.key==c){f.value=d;return}}null!==d&&b.K.push({key:c,value:d})}function Bc(b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&S(b,d,c[d])}
function Cc(b){var c=b.protocol;"auto"==b.protocol&&(c=document.location.protocol,"http:"!=c&&"https:"!=c&&(c="https:"));""!==c&&(c+="//");for(var d=c+b.hostname+(b.pathname+(b.yb?"/"+b.Fa+"/"+b.environment:"")+"/"+b.method),c={},e=0;e<b.K.length;e++){var f=b.K[e];c[f.key]=f.value}if(b.$a){if((e=window.persoo.requestPreprocessor)&&s(e)){try{c=e(c)}catch(g){e="Your custom javascript caused error, try to call persoo.requestPreprocessor("+JSON.stringify(Dc(c))+") for debugging it in your browser. Error: "+
g.message,v.error(e),console.warn(e)}if(null===c)return null}c=Dc(c);if("pageview"==c._e){var h=c.idType,e=window.persoo,f=e.identificationRequestLifeSpan;if("browser"!=f){var m=e.browserID,m=m!=e.anonymousBrowserID;h&&c.idValue?e.identificationOnCurrentPage=h+","+c.idSource+","+new Date:"page"==f&&(e.identificationOnCurrentPage=!1);h=e.identificationOnCurrentPage;"page"==f?m&&!h?(m=dc(),e.browserID=m,M(m)):!m&&h&&(m=Vb(),e.browserID=m,M(m,-1),cc(h,f)):!m&&h&&(m=Vb(),e.browserID=m,M(m,-1),cc(h,f))}}}if(e=
window.persoo.browserID)S(b,"_vid",e),c._vid=e;"doNotTrack"==window.persoo.profileDataCollectionLevel&&(S(b,"doNotTrack",1),c.doNotTrack=1);var e=-1!=d.indexOf("?")?"&":"?",q;for(q in c)c.hasOwnProperty(q)&&(b=d,d=e+encodeURIComponent(q)+"=",e=encodeURIComponent,f=c[q],result=JSON.stringify(f),r(f)&&(""===f||0>'"[{0123456789-+'.indexOf(f.charAt(0)))&&!A("null true false NaN Infinity ObjectId".split(" "),f)&&(result=f),d=b+(d+e(result)),e="&");return d}
function Dc(b){for(var c in b)(c.match("^gtm.*")||b[c]instanceof Node||b[c]instanceof HTMLElement)&&delete b[c];return b}Ac.prototype.clone=function(){var b=new Ac(this.Fa,this.environment);b.hb=this.hb;for(var c=0;c<this.K.length;c++)S(b,this.K[c].key,this.K[c].value);return b};
Ac.prototype.initEvent=function(b,c){S(this,"_t",1*new Date);S(this,"_e",b);S(this,"_url",document.location.href);S(this,"_ref",document.referrer);if(p(c)){if(c)for(var d=0;d<c.length;d++){var e=c[d].indexOf("=");-1!=e&&0!==e&&S(this,c[d].substring(0,e),c[d].substring(e+1,c[d].length))}}else Bc(this,c);return this};function T(){H.call(this);this.I=new rb(this);this.xb=this;this.Ua=null}ka(T,H);T.prototype[nb]=!0;k=T.prototype;k.addEventListener=function(b,c,d,e){K(this,b,c,d,e)};k.removeEventListener=function(b,c,d,e){Gb(this,b,c,d,e)};
k.dispatchEvent=function(b){var c,d=this.Ua;if(d)for(c=[];d;d=d.Ua)c.push(d);var d=this.xb,e=b.type||b;if(r(b))b=new I(b,d);else if(b instanceof I)b.target=b.target||d;else{var f=b;b=new I(e,d);za(b,f)}var f=!0,g;if(c)for(var h=c.length-1;!b.S&&0<=h;h--)g=b.currentTarget=c[h],f=Ec(g,e,!0,b)&&f;b.S||(g=b.currentTarget=d,f=Ec(g,e,!0,b)&&f,b.S||(f=Ec(g,e,!1,b)&&f));if(c)for(h=0;!b.S&&h<c.length;h++)g=b.currentTarget=c[h],f=Ec(g,e,!1,b)&&f;return f};
k.va=function(){T.Za.va.call(this);if(this.I){var b=this.I,c=0,d;for(d in b.k){for(var e=b.k[d],f=0;f<e.length;f++)++c,qb(e[f]);delete b.k[d];b.ra--}}this.Ua=null};function Ec(b,c,d,e){c=b.I.k[String(c)];if(!c)return!0;c=c.concat();for(var f=!0,g=0;g<c.length;++g){var h=c[g];if(h&&!h.aa&&h.ua==d){var m=h.Q,q=h.X||h.src;h.ta&&tb(b.I,h);f=!1!==m.call(q,e)&&f}}return f&&0!=e.ob}k.Ka=function(b,c,d,e){return this.I.Ka(String(b),c,d,e)};function Fc(){this.D=[];this.i=this.h=0;this.Z=[[]];this.la=[[]];this.Qa=[];T.call(this);return this}ka(Fc,T);var Gc={Dc:"rtpRequestSend",Cc:"rtpRequestProcessed",zc:"rtpRequestError",Ac:"rtpRequestIgnored",Bc:"rtpRequestOnLoadProcessed"},Hc={rtpRequestSend:"Sending request",rtpRequestProcessed:"Receiving request",rtpRequestError:"Error request",rtpRequestIgnored:"Ignoring request",rtpRequestOnLoadProcessed:"Processing onLoad handers for request"};k=Fc.prototype;
k.fireEvent=function(b,c,d){var e=new I(b,this);e.f=c;v.info(Hc[b]+" ["+c.h+"] "+d);this.dispatchEvent(e)};k.M=function(b,c){return K(this,b,c,!1)};
function Ic(b,c,d){var e=Cc(c);if(null===e)v.info(Hc.rtpRequestIgnored);else{b.D.push({w:c,startTime:1*new Date});b.h++;b.Z.push([]);b.la.push([]);var f=document.getElementsByTagName("head")[0]||document.documentElement;c.hb="ajax";var g=document.createElement("script");g.src=e||Cc(c);g.async=1;g.onload=g.onreadystatechange=Jc(g,d.d);g.onerror=Kc(g,d.d);f.insertBefore(g,f.firstChild);b.fireEvent("rtpRequestSend",{h:b.h},e)}}
k.Ba=function(b){0>=this.h?this.Z[0].push(b):this.D[this.h-1].endTime?b():this.Z[this.h-1].push(b)};k.Ra=function(b){0>=this.h?this.la[0].push(b):this.D[this.h-1].endTime?b():this.la[this.h-1].push(b)};k.Pa=function(b){this.Qa.push(b)};function U(b){this.d=b;T.call(this);K(this,"persooStats",this.Ob,!1);this.xa=[];this.sa=0;this.Oa=!1;this.kb=!0;this.d.M("rtpRequestSend",t(this.ec,this));this.d.M("rtpRequestProcessed",t(this.dc,this));y("locationsDone",t(this.Wb,this))}ka(U,T);var Lc={xc:"impression",tc:"click",OPEN:"open",uc:"close",vc:"drop"};k=U.prototype;
k.Va=function(b,c,d,e){var f=new I("persooStats",this);f.f={O:b,r:c,c:d,t:e};v.info('EVENT (stats reporter): "'+b+'" in location: "'+c+'", offer: "'+d+'", componentType: "'+e+'"');this.dispatchEvent(f)};function Mc(b,c,d){for(var e=new I("persooGroupedStats",b),f=0;f<c.length;f++){var g=c[f];v.info("EVENT["+f+'] (grouped stats reporter): "'+g.O+'" in location: "'+g.r+'", offer: "'+g.c+'", componentType: "'+g.t+'"')}e.f=c;"undefined"!==typeof d&&(e.p=d);b.dispatchEvent(e)}
k.M=function(b,c){return K(this,b,c,!1)};k.cc=function(b){return Hb(b)};k.Lb=function(b){b=b.f;var c={};c.eventName=b.O;c.locationId=b.r;c.offerId=b.c;c.componentType=b.t;return c};k.Ob=function(b){this.sa||!this.Oa?this.xa.push(b.f):Mc(this,[b.f])};k.ec=function(b){0>=this.sa&&(this.Kb=b.f.h);this.sa++};k.dc=function(b){this.sa--;this.Kb==b.f.h&&(this.p=this.p||b.f.p);Nc(this)};k.Wb=function(){this.Oa=!0;Nc(this)};
function Nc(b){0>=b.sa&&b.Oa&&(0<b.xa.length||b.kb)&&(b.kb=!1,Mc(b,b.xa,b.p),b.xa=[],b.p=null)}function Oc(b){var c=Pc;return K(b,"mousedown",function(d){!gb(d.target,"persooAction")&&(d=gb(b,"persooLocation")||gb(b,"persooInnerLocation"))&&(d=Ob(d),c.Va("click",d.locationId,d.offerId,d.componentType))},!0)}
function Qc(b){var c,d;c=c||0;d=d||0;if("none"==b.style.display)return!1;var e=fb(b),f=new B(0,0),g;g=e?fb(e):document;var h;(h=!D||9<=Number(Ta))||(h="CSS1Compat"==(g?new ib(fb(g)):ra||(ra=new ib)).H.compatMode);b!=(h?g.documentElement:g.body)&&(g=kb(b),h=(e?new ib(fb(e)):ra||(ra=new ib)).H,e=h.gc?h.gc:E||"CSS1Compat"!=h.compatMode?h.body||h.documentElement:h.documentElement,h=h.parentWindow||h.defaultView,e=D&&G("10")&&h.pageYOffset!=e.scrollTop?new B(e.scrollLeft,e.scrollTop):new B(h.pageXOffset||
e.scrollLeft,h.pageYOffset||e.scrollTop),f.x=g.left+e.x,f.y=g.top+e.y);b:{g=fb(b);if(g.defaultView&&g.defaultView.getComputedStyle&&(g=g.defaultView.getComputedStyle(b,null))){g=g.display||g.getPropertyValue("display")||"";break b}g=""}g||(g=b.currentStyle?b.currentStyle.display:null);if("none"!=(g||b.style&&b.style.display))b=lb(b);else{g=b.style;e=g.display;h=g.visibility;var m=g.position;g.visibility="hidden";g.position="absolute";g.display="inline";b=lb(b);g.display=e;g.position=m;g.visibility=
h}e=document;g=e.body;e=e.documentElement;g=new B(g.scrollLeft||e.scrollLeft,g.scrollTop||e.scrollTop);e=window.document;e="CSS1Compat"==e.compatMode?e.documentElement:e.body;e=new Ua(e.clientWidth,e.clientHeight);return 0===b.width||0===b.height||f.x+b.width<g.x+c||f.x>g.x+e.width-d||f.y+b.height<g.y+d||f.y>g.y+e.height-d?!1:!0}
function Rc(b){var c=Pc;function d(c){if(Qc(b)){var f=gb(b,"persooLocation")||gb(b,"persooInnerLocation");f&&(f=Ob(f),"1"!=Nb(b,"persooImpressionReported")&&(Mb(b,"persooImpressionReported","1"),e.Va("impression",f.locationId||null,f.offerId||null,f.componentType||null)));for(f=0;f<e.J.length;f++)Hb(e.J[f]);e.J=[];clearInterval(e.Sc)}"post"!==c&&setTimeout(function(){d("post")},200)}var e=c,f=qa(d,c.Tc);c.J=[];c.J.push(K(window,"click",function(){f("click")},!0));c.J.push(K(window,"keypress",function(){f("keypressed")},
!0));c.J.push(K(window,"scroll",function(){f("scroll")},!0));c.J.push(K(window,"resize",function(){f("resize")},!0));y("DOMContentLoaded",function(){f("domloaded")});f("immediate");return c.J}function Sc(b){if(p(b))for(var c=0;c<b.length;c++)Hb(b[c]);else Hb(b)}var Pc=null;function Tc(){var b;if("function"!==typeof window.persoo){persooOld=window.persoo;window.persoo=function(){window.persoo.q.push([].slice.call(arguments))};b=window.persoo;b.q=b.q||[];for(var c in persooOld)persooOld.hasOwnProperty(c)&&(b[c]=persooOld[c])}b=window.persoo;b.pluginsConfig=b.pluginsConfig||{};b.actions=b.actions||{}};function Uc(b){b=b.className;return r(b)&&b.match(/\S+/g)||[]}function Vc(b,c){for(var d=Uc(b),e=d,f=Ga(arguments,1),g=0;g<f.length;g++)A(e,f[g])||e.push(f[g]);b.className=d.join(" ")}function Wc(b,c){var d=Uc(b),d=Xc(d,Ga(arguments,1));b.className=d.join(" ")}function Xc(b,c){return Da(b,function(b){return!A(c,b)})};function Yc(b){var c=null;try{c=b.cssRules||b.rules}catch(d){if(15==d.code)throw d.styleSheet=b,d;}return c}function Zc(b){var c=document,d=c.createElement("STYLE");d.type="text/css";c.getElementsByTagName("HEAD")[0].appendChild(d);d.styleSheet?d.styleSheet.cssText=b:d.appendChild(c.createTextNode(b));return d};var V={za:!1,V:0,Y:function(b,c,d){function e(){if(!c.body)return setTimeout(e);V.za=!0;V.V=1*new Date;for(var d=0;d<b.length;d++)b[d]()}function f(){c.addEventListener?(c.removeEventListener("DOMContentLoaded",g,!1),d.removeEventListener("load",g,!1)):(c.detachEvent("onreadystatechange",g),d.detachEvent("onload",g))}function g(b){if(c.addEventListener||"load"===b.type||"complete"===c.readyState)f(),e()}if("complete"===c.readyState)setTimeout(e);else if(c.addEventListener)c.addEventListener("DOMContentLoaded",
g,!1),d.addEventListener("load",g,!1);else{c.attachEvent("onreadystatechange",g);d.attachEvent("onload",g);var h=!1;try{h=null===d.frameElement&&c.documentElement}catch(m){}h&&h.doScroll&&function F(){if(!V.za){try{h.doScroll("left")}catch(b){return setTimeout(F,50)}f();e()}}()}},Ub:function(){na("DOMContentLoaded");V.Y([function(){oa("DOMContentLoaded")}],document,window)}};function X(b,c,d){H.call(this);this.a=c;this.fa=c.insertMode;this.qb=c.selectorType;this.Wa=c.selectorValue;this.Xb=c.noTimeLimits||!1;this.rb=!1;this.state=$c;this.cb=d;this.W=[];this.Ha=-1;this.element=null;this.gb=[];this.ia=this.fa==ad;this.ba=this.Ta=null;if(this.fa==ad)switch(this.qb){case bd:this.ba="#"+this.Wa;break;case cd:this.ba=this.Wa}this.id=b;this.t=this.c="default";this.ya=!0;a:if("onUrl"in this.a&&!document.location.href.match(this.a.onUrl))b=!1;else{if("onPageType"in this.a&&persoo.strictPageTypes&&
(persoo.dataLayerName=persoo.dataLayerName||ma,b=window[persoo.dataLayerName],p(b))){c=null;for(d=0;d<b.length;d++)c=b[d].pageType||c;if(c&&!c.match(this.a.onPageType)){b=!1;break a}}b=!0}if(this.La=b){if(null!==this.ba)if(b=this.ba+"{visibility: hidden;font-family: inherit;}",b=b.replace("font-family: inherit;",'font-family: "persoo-location-'+this.id+'";'),null!==dd){c=dd.sheet||dd.styleSheet;try{d=b;var e=void 0;if(void 0==e||0>e)e=Yc(c).length;if(c.insertRule)c.insertRule(d,e);else{var f=/^([^\{]+)\{([^\{]+)\}/.exec(d);
if(3==f.length)c.addRule(f[1],f[2],e);else throw Error("Your CSSRule appears to be ill-formatted.");}}catch(g){v.warn('addCssRule() throws exception for cssText "'+b+'"')}}else dd=Zc(b);this.T=setInterval(t(this.ea,this),100);this.ea()}else this.state=Y}ka(X,H);X.prototype.va=function(){clearInterval(this.T);clearTimeout(this.Bb);Sc(this.ka);Sc(this.ma)};var $c="waiting",Y="none",bd="id",cd="query",ad="replace";
function ed(b,c){var d=b.element;if(b.rb)return!0;if(c&&d)switch(b.fa){case ad:return d==c;case "before":return eb(db(c),d);case "after":return eb(db(c),d);case "prepend":return eb(c,d);case "append":return eb(c,d)}return!1}function fd(b){elems=Ya("persooLocation");for(var c=0;c<elems.length;c++)if(elems[c]==b)return!0;return!1}function gd(b,c,d){b.c=d||b.c;b.t=b.t;c&&(Mb(c,"locationId",b.id),Mb(c,"offerId",b.c),Mb(c,"componentType",b.t))}
X.prototype.ea=function(){if(this.La){var b;b=this.Wa;var c=null;switch(this.qb){case bd:c=Xa(b);break;case cd:var d=null;try{d=document.querySelectorAll(b)}catch(e){v.warn('document.querySelectorAll() throws exception for location "'+this.r+'" (selector: '+b+")")}finally{!d||0>=d.length?c=null:1<d.length?v.warn('Multiple elements found for location "'+this.r+'"'):c=d[0]}break;default:v.warn('Unknown selector type in location "'+this.r+'"')}b=c;a:{c=this.id;elems=Ya("persooLocation");for(d=0;d<elems.length;d++)if(Nb(elems[d],
"locationId")==c){c=elems[d];break a}c=null}if(c&&!this.element||!c&&b){if(this.state==$c||this.state==Y||!ed(this,b))a:{clearInterval(this.T);this.T=null;this.ya=!0;if(c)this.element=c,this.ia=!0,this.Ta=this.element,this.rb=!0,this.c=Mb(c,"offerId")||this.c,this.t=Mb(c,"componentType")||this.t,hd(this);else{if(this.fa==ad&&A(Uc(b),"persooLocation")){this.state=Y;v.info('Location "'+this.id+'" NONE: cannot replace other location');this.show();id(this);break a}if(b)switch(this.fa){case ad:this.Ta=
this.element=b;break;case "before":this.element=bb("div");b.parentNode&&b.parentNode.insertBefore(this.element,b);break;case "after":this.element=bb("div");b.parentNode&&b.parentNode.insertBefore(this.element,b.nextSibling);break;case "prepend":this.element=bb("div");b.insertBefore(this.element,b.childNodes[0]||null);break;case "append":this.element=bb("div");b.insertBefore(this.element,b.childNodes[null]||null);break;default:v.warn('Unknown insertMode in location "'+this.r+'"')}}Vc(this.element,
"persooLocation");gd(this,this.element);Vc(this.element,this.ia?"persooHidden":"persooNoDisplay");this.state="ready";v.info('Location "'+this.id+'" READY: waiting for content'+(c?"(already created in html by server)":"(corresponds to CSS selector)"));jd(this)}}else V.za&&this.ya&&!fd(this.element)&&(clearInterval(this.T),this.T=null,this.state=Y,v.info('Location "'+this.id+'" NONE: do not exists'),this.show(),id(this))}};
function kd(b){b.La&&b.state==Y&&0<=b.Ha&&(b.ya=!1,b.Bb=setTimeout(t(function(){this.ya=!0},b),1500),b.T||(b.T=setInterval(t(b.ea,b),100)))}var dd=Zc(".persooLocation.persooNoDisplay {display: none;} .persooLocation.persooHidden {visibility: hidden;}");
X.prototype.show=function(){if(null!==this.ba&&null!==dd){var b=dd.sheet||dd.styleSheet,c;a:{c=this.id;var d=Yc(b);if(d&&d.length)for(var e,f=0,g=d.length;f<g;f++)if(e=d[f],e.style.fontFamily&&z(e.style.fontFamily,"persoo-location-"+c)){c=f;break a}c=-1}0<=c&&(b.deleteRule?b.deleteRule(c):b.removeRule(c))}null!==this.element&&(this.ia?Wc(this.element,"persooHidden"):Wc(this.element,"persooNoDisplay"))};function hd(b){"done"!=b.state&&ld(b,{type:"default"})}
function ld(b,c){var d;d=Pc.d.i;if(b.Ha<d||b.Xb)fd(b.element)||(b.ea(),kd(b)),"default"==c.type&&0<b.W.length||(b.W=[],b.Ha=d,b.W.push(c)),jd(b)}
function jd(b){if(("ready"==b.state||"done"==b.state)&&0<b.W.length){var c=b.W[0];"function"==c.type?(s(window[["persoo"]].actions[c.name])?window[["persoo"]].actions[c.name].apply(b,c.Ga):v.debug("Cannot trigger '"+c.name+"' - not a funtion."),b.show()):"content"==c.type?(r(c.content)&&md(b,b.element,c.content),b.show()):"default"==c.type&&b.ia&&b.show();b.state="done";gd(b,b.element,c.c);v.info('Location "'+b.id+'" DONE: showing '+("default"!==c.type?'offer "'+b.c+'"':"default content"));b.ka&&
Sc(b.ka);b.ma&&Sc(b.ma);if(b.ia||"default"!=b.c){var d=Nb(b.element,"innerLocationId"),e;d?(e=Xa(d))?(Vc(e,"persooInnerLocation"),gd(b,e,c.c)):v.info('Location "'+b.id+'" Cannot find inner location element with "#'+d+'"'):e=b.element;e&&(b.ma=Rc(e),b.ka=Oc(e))}id(b);b.W=[]}}
function md(b,c,d){var e=bb("div");e.innerHTML=d;var f=cb(e).length;if(0<f){if(n(e.firstElementChild))e=e.firstElementChild;else for(e=e.firstChild;e&&1!=e.nodeType;)e=e.nextSibling;1<f&&v.warn('Location "'+b.id+'": Offer "'+b.c+'" contains more than 1 HTML element ('+d+")")}else e=null;da(e)&&1==e.nodeType?nd(b,c,e):(b.c="default",v.warn('Location "'+b.id+'": Offer "'+b.c+'" does not contain any HTML element ('+d+")"))}
function nd(b,c,d){var e=c.parentNode;e&&e.replaceChild(d,c);b.element=d;Vc(b.element,"persooLocation");b=Za("script",null,d);"script"==d.tagName.toLowerCase()&&(b=[d]);for(d=0;d<b.length;d++){c=bb("script");e=b[d];c.text=e.innerHTML;var f=e.parentNode;f&&f.replaceChild(c,e)}}function id(b){s(b.cb)&&b.cb(b)}
X.prototype.F=function(b,c){for(var d={},e=0;e<b.length;e++)d[b[e].id]=b[e];for(var f={},e=0;e<c.length;e++)f[c[e].id]=!0;for(var e=Ya("persooLocation"),g=Ya("persooInnerLocation"),g=[].slice.call(e).concat([].slice.call(g)),e=0;e<g.length;e++){var h=g[e],m=Nb(h,"locationId");if(!m||d[m]&&d[m].state!=Y||f[m])m&&d[m]&&"done"==d[m].state&&(q=d[m],h!=q.element&&0>q.gb.indexOf(h)&&(v.info('Location "'+m+'" was moved in DOM or there is duplicate location, thus refreshing its listeners.'),q.element=h,q.ma=
Rc(h),q.ka=Oc(h),q.gb.push(h)));else{var q={id:m};c.push(q);f[m]=!0;q.ma=Rc(h);q.ka=Oc(h)}}return null};function od(){this.a=null;this.g=[];this.pc=[];this.ja={};this.Ea=!1;this.Ia=!0}k=od.prototype;k.reset=function(){this.g&&this.Ja();if(this.qa)for(var b=0;b<this.qa.length;b++)window.clearTimeout(this.qa[b]);this.qa=[];if(this.ha)for(b=0;b<this.ha.length;b++)window.clearInterval(this.ha[b]);this.ha=[];this.a=null;this.g=[];this.ja={};window.dispatchEvent(new CustomEvent("persoo-js.offers-in-locations.updated"));this.Ea=!1;this.Ia=!0};
k.Y=function(b){this.a=b;this.qa=[];this.ha=[];for(var c in this.a)this.a.hasOwnProperty(c)&&(b=this.a[c],b="undefined"!==typeof b.config?b.config:b,b=new X(c,b,t(this.Na,this)),this.g.push(b));this.Na();v.info("Locations initialized - default content hidden until timeout");y("DOMContentLoaded",this.Yb,this);y("firstRTPResponseArrived",this.sb,this);c=Q("personalizations_tolerance",la);c=window.setTimeout(t(this.sb,this),c);this.qa.push(c);pd(this);this.Na()};
function pd(b){var c=Q("serverLocationsTracking","once");"interval"==c?(c=Q("serverLocationsTrackingInterval",200),100>c&&(c=100),b.Xa=window.setInterval(t(b.F,b),c),b.ha.push(b.Xa)):"once"==c&&(b.Xa=setInterval(t(b.F,b),100),y("DOMContentLoaded",t(function(){window.clearInterval(this.Xa)},b),b));b.F()}k.F=function(){X.prototype.F(this.g,this.pc);v.info("Locations tracking updated.")};k.Yb=function(){for(var b=0;b<this.g.length;b++){var c=this.g[b];c.state!=Y&&"done"!=c.state&&this.g[b].ea()}this.F()};
k.sb=function(){if(this.Ia){for(var b=0;b<this.g.length;b++)hd(this.g[b]);this.Ia=!1}};k.Na=function(){for(var b=!0,c=0;c<this.g.length;c++){var d=this.g[c].state;"done"==d?(this.ja[this.g[c].id]=this.g[c].c,window.dispatchEvent(new CustomEvent("persoo-js.offers-in-locations.updated"))):d!==Y&&(b=!1)}!this.Ea&&b&&(this.Ea=!0,na("locationsDone"),oa("locationsDone"))};k.Ja=function(){for(var b=0;b<this.g.length;b++)this.g[b].Ja();this.g=[]};var qd=new od;function rd(b){this.ca=b;this.G={};this.fb=0;this.ib=!1;b=persoo.ignoredGTMFields||[];this.Sb=["^gtm.*$"].concat(persoo.ignoredGTMEvents||[]);this.Tb=["^gtm.*$"].concat(b);return this}function sd(b,c){for(var d=0;d<c.length;d++)if(b.match(c[d]))return!0;return!1}
function td(b,c){var d;if(p(c)){d=[];for(var e=0;e<c.length;e++)d.push(td(b,c[e]))}else if("object"==typeof c){if(c instanceof Node||c instanceof HTMLElement)return"[DOM Element]";d={};for(e in c)c.hasOwnProperty(e)&&!sd(e,b.Tb)&&(d[e]=td(b,c[e]))}else d=c;return d}
rd.prototype.na=function(){var b,c,d,e=td(this,[].slice.call(arguments));for(b=0;b<e.length;b++){this.fb++;c=e[b];v.log("Data Layer Processing ["+this.fb+"]: "+JSON.stringify(c));if("object"===typeof c)for(var f in c)c.hasOwnProperty(f)&&(this.G[f]=c[f]);else v.error("Data Layer Processing - argument is not an object: "+JSON.stringify(c));var g=!1;this.G._event?(c=this.G,d=c._event,delete c._event,g=!0):this.G.event&&(c=this.G,d=c.event,delete c.event,sd(d,this.Sb)||(g=!0));this.ib&&g&&(persoo("send",
d,c),this.G={})}};function ud(b){if(!b.ac){b.ac=!0;var c=b.ca.push;b.ca.push=function(){var d=[].slice.call(arguments,0),e=c.apply(b.ca,d);b.na.apply(b,d);return e};v.log("Data Layer Processing [init]: adding handler to dataLayer.push().")}}function vd(b){for(var c=0;c<b.ca.length;c++)b.na(b.ca[c]);ud(b);b.ib=!0};var wd=[];function xd(b,c){v.tb.push([b].concat(c));if(A(["showHTMLBox","showIMG"],b)){var d=c[0],e=c[1],f;a:{for(f=0;f<qd.g.length;f++)if(qd.g[f].id==e){f=qd.g[f];break a}f=null}f?ld(f,{type:"function",c:d,name:b,Ga:c}):v.debug("Cannot trigger '"+b+"' at non-existing location '"+e+"'")}else A(["showSideBox"],b)&&!V.za?(wd.push({name:b,Ga:c}),v.info("Trigger '"+b+"' - waiting for DOMContentLoaded.")):yd(b,c)}
function yd(b,c){var d=window.persoo.actions;s(d[b])?(v.debug("Triggering '"+b+"'"),d[b].apply(this,c)):v.debug("Cannot trigger '"+b+"' - not a funtion.")}function zd(){var b=wd;wd=[];for(var c=0;c<b.length;c++)yd(b[c].name,b[c].Ga)};function Ad(){for(var b="./",c=document.getElementsByTagName("SCRIPT"),d=c.length,e=0;e<d;e++)if(-1<c[e].src.indexOf("/persoo.js")){b=c[e].src.replace("persoo.js","");break}return b};function Bd(){if(!window.mb){var b=document.getElementsByTagName("head")[0],c=Ad()+"../../shared/admin-bar/",c=Q("persooAdminBarPathname",c),d=document.createElement("script");d.async=1;d.src=c+"admin-bar.js";b.appendChild(d);R("persooAdminBar",1,-1)}}
function Cd(){if(!window.$b){var b=document.getElementsByTagName("head")[0],c=Ad()+"../../shared/debug-console/debug-console.js",c=Q("persooDebugConsolePathname",c),d=document.createElement("script");d.async=1;d.src=c;b.appendChild(d);R("persooDebugConsole",1,-1)}}
function Dd(){var b=document.getElementsByTagName("head")[0],c;c=Q("persooPersooBarPathname","https://s3-eu-west-1.amazonaws.com/cz.persoo.production.javascripts/shared/persoo-bar/scripts/");var d=document.createElement("script");d.type="module";d.src=c+"persoo-bar.js";b.appendChild(d);d=document.createElement("script");d.type="module";d.src=c+"persoo-machine.js";b.appendChild(d);d=document.createElement("script");d.type="module";d.src=c+"persoo-cli.js";b.appendChild(d);R("persooBar",1,-1)};function Jc(b,c){var d=c.h;return function(e,f){if(f||!b.readyState||/loaded|complete/.test(b.readyState))if(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,!f){var g=window.persoo?window.persoo.data:null,h=c.D[d-1];h.endTime=1*new Date;h.lb=g;h=h.endTime-h.startTime;c.fireEvent("rtpRequestProcessed",{h:d,p:h},"in "+h+" milliseconds");if(c.i>=d-1)for(h=c.D[c.i];h&&h.endTime;){c.fireEvent("rtpRequestOnLoadProcessed",{h:c.i+1},"");for(var m=c.Z[c.i],q;q=m.shift();)q.call(null,
h.lb);delete h.lb;c.Z[c.i]=[];c.la[c.i]=[];c.i++;h=c.D[c.i]}for(h=0;h<c.Qa.length;h++)c.Qa[h].call(null,g)}}}
function Kc(b,c){var d=c.h;return function(){b.onload=b.onreadystatechange=null;b.parentNode&&b.parentNode.removeChild(b);b=null;var e=c.D[d-1];e.endTime=1*new Date;e=e.endTime-e.startTime;c.fireEvent("rtpRequestError",{h:d,p:e},"after "+e+" milliseconds");window.persoo&&(window.persoo.afterError=!0);if(c.i>=d-1)for(;c.D[c.i]&&c.D[c.i].endTime;){if(c.i!=d-1){c.fireEvent("rtpRequestOnLoadProcessed",{h:c.i+1},"");var e=c.Z[c.i],f}else e=c.la[c.i];for(;f=e.shift();)f.call();c.i++}}}
function Ed(b){this.d=b}function Fd(b){return new Ed(b)};function Z(b,c,d,e){this.Db=b;this.d=c;this.w=d;this.Fb=e;this.eb=0;return this}k=Z.prototype;
k.na=function(){this.eb++;v.log("Processing ["+this.eb+"]: "+JSON.stringify([].slice.call(arguments)));if(0<arguments.length){var b=arguments[0],c;c=arguments;var d,e,f,g=[],h={},m=!1,q=["boolean","number","string","function"];for(f=1;f<c.length;f++)if(e=c[f],d=typeof e,A(q,d)||p(c[f]))g.push(c[f]);else if("object"==d){var m=!0,F;for(F in e)e.hasOwnProperty(F)&&(h[F]=e[F])}else v.error("Unknown parameter "+e+" in command "+c[0]);m&&g.push(h);c=g;if(s(this[b]))return this[b].apply(this,c);if(s(b)){c=
[].slice.call(arguments,1);d=!1;try{d=b.apply(this,c)}catch(W){v.warn("Exception when calling "+JSON.stringify([].slice.call(arguments))+": "+W.message)}return d}v.warn("Undefined command "+JSON.stringify([].slice.call(arguments)))}};function Gd(b){var c=b.Db;if(c){v.log("Processing command queue "+JSON.stringify(c));for(var d=0;d<c.length;d++)b.na.apply(b,c[d])}}
function Hd(b,c,d){for(var e=[],f=0;f<b.length;f++)s(b[f])?c.push(b[f]):"object"==typeof b[f]&&e.push(b[f]);for(f=0;f<e.length;f++){b=e[f];for(var g in b)b.hasOwnProperty(g)&&(d[g]=b[g])}}function Id(b,c){for(var d=0;d<c.length;d++)s(c[d])&&b.Ba(c[d])}
k.send=function(){var b,c={},d=[];b=r(arguments[0])?arguments[0]:"pageview";Hd(arguments,d,c);if("object"!==typeof c||p(c))v.error("Send: ignoring parameters which are not object: "+JSON.stringify(c)),c={};if("object"===typeof c){var e;e=this.Fb;var f=e.G;e.G={};e=f;for(var g in c)c.hasOwnProperty(g)&&(e[g]=c[g]);c=e}(g=document.location.hash)&&(c.hash=g);g=this.w.clone();g.initEvent(b,c);g.$a=!0;Ic(this.d,g,new Fd(this.d));Id(this,d)};
k.hc=function(b,c){var d=new Fd(this.d),e,f;r(b)?(e=b,f=c):(e="pageview",f=b);var g=this.w.clone();g.initEvent(e,f);g.$a=!0;Ic(this.d,g,d)};k.Ba=function(b){s(b)&&this.d.Ba(b)};k.Ra=function(b){s(b)&&this.d.Ra(b)};k.Pa=function(b){s(b)&&this.d.Pa(b)};k.Zb=function(b){s(b)&&y("locationsDone",b)};k.F=function(){qd.F()};k.Mb=function(){return v.R};k.mc=Cd;k.$b=Cd;k.Qb=function(){window.persooDebugConsole&&persooDebugConsole.closeDebugConsole();zc("persooDebugConsole")};k.lc=Bd;
k.mb=function(){Bd();R("persooAdminBar",!0,-1)};k.Pb=function(){window.mb&&persooAdminBar.Gc();zc("persooAdminBar")};k.nc=Dd;k.Rb=function(){zc("persooBar")};k.Nb=function(){var b=[];Hd(arguments,b,{});var c=new Fd(this.d),d=this.w.clone();0<arguments.length&&Bc(d,arguments[0]);d.method="getVisitorSpace.js";Ic(this.d,d,c);Id(this,b)};k.ab=function(b,c){switch(b){case "register":na(c);break;case "loaded":oa(c);break;default:v.error("persoo('actionScript', "+b+", "+c+") - unknown task.")}};var Jd=Z.prototype.ab;
k=Z.prototype;k.zb=function(b,c){b&&c&&s(c)?window.persoo.actions[b]=c:v.error("persoo('addAction', "+b+", "+c+") - wrong or missing parameters.")};k.Hb=function(){bc()};k.fc=function(){var b=[];Hd(arguments,b,{});var c=new Fd(this.d),d=this.w.clone();d.method="deleteBrowserID.js";Ic(this.d,d,c);Id(this,b)};k.Cb=function(){var b=[];Hd(arguments,b,{});var c=new Fd(this.d),d=this.w.clone();d.method="anonymize.js";Ic(this.d,d,c);Id(this,b)};
k.Jb=function(){var b=[];Hd(arguments,b,{});var c=new Fd(this.d),d=this.w.clone();d.method="endSession.js";Ic(this.d,d,c);Id(this,b)};k.ic=function(b,c){R("persooEnvironment",b,c);this.w.environment=b;persoo.environment=b};k.rc=function(){zc("persooEnvironment");this.w.environment="p";persoo.environment="p"};k.jc=function(b,c){R("rtpHostname",b,c);persoo.pb=b;this.w.hostname=b};k.debug=function(b){R("persooDebug",1,b);persoo.debug=!0};var Kd=[],Ld=[],Md=[];
function Nd(b){Kd.push(b);var c=b.data,d=b.functionCalls,e=b.exceptions,f=b.debugInfo,g=b.visitorSpace,h=b.setBrowserID||b.setVisitorID;c&&(window.persoo.data=c);g&&(window.persoo.userSpace=g,window.persoo.profile=g);if(d)for(c=0;c<d.length;c++)xd(d[c]["function"],d[c].args);p(e)&&0<e.length&&(Ld.push(e),window.dispatchEvent(new CustomEvent("persoo-js.exception-log.updated")));f&&Md.push(f);if(h||"undefined"!==typeof b.setBrowserID||"undefined"!==typeof b.setVisitorID)window.persoo.browserID=h,M(h)}
;function Od(b){this.oa=b;this.Ma={}}function Pd(){var b=Qd,c,d,e,f,g=window.persoo.pluginsConfig||{};window.persoo.pluginsConfig=g;v.debug("Loading plugins");for(c=0;c<b.oa.length;c++)if(d=b.oa[c],(!p(d)||2>d.length)&&v.error("Registred plugin is in wrong format: "+JSON.stringify(d)),d=b.oa[c][0],e=b.oa[c][1],f=g[d],!b.Ma[d])try{e.call(null,window.persoo,window,d,f)}catch(h){v.error('Plugin "'+d+'" throws error: '+h.name+":"+h.message)}finally{v.debug('Plugin "'+d+'" loaded.'),b.Ma[d]=!0}}
Od.prototype.register=function(b,c){this.oa.push([b,c])};Od.prototype.reset=function(){this.Ma={}};var Qd=new Od([]);var Rd={};function Sd(b){var c=b.target;b={};b.formName=c.getAttribute("name")||c.id||"form";for(var c=c.elements,d=0;d<c.length;d++){var e=c[d],f=e.name||e.id;0<f.length&&("text"===e.type||"select-one"===e.type?b[f]=e.value:"radio"===e.type?e.checked&&(b[f]=e.value):"checkbox"===e.type&&(b[f]=e.checked))}b._event="formSubmit";window[persoo.dataLayerName].push(b)}
Qd.register("form-collection",function(b,c,d,e){e=e||{};e.whitelist=e.whitelist||[];e.blacklist=e.blacklist||[];Rd=e;b=document.forms;for(c=0;c<b.length;c++){var f=b[c];d=Rd;e=f.name;"object"===typeof e&&f.getAttribute("name");var g=f.id;"object"===typeof e&&(g=f.getAttribute("id"));for(var f=!1,h=void 0,m=void 0,h=0;h<d.whitelist.length;h++)if(m=d.whitelist[h],e&&e.match(m)||g&&g.match(m)){f=!0;break}for(h=0;f&&h<d.blacklist.length;h++)if(m=d.blacklist[h],e&&e.match(m)||g&&g.match(m)){f=!1;break}f&&
K(b[c],"submit",Sd,!0)}});var Td=!1,Ud=!1,Vd=!0;function Wd(b){var c={eventList:[{componentType:b.f.t,eventName:b.f.O,locationID:b.f.r,offerID:b.f.c}]},d={};d.persLT=persoo.persooLoadedTimestamp-v.a.A;"undefined"!==typeof b.p&&(d.reqLT=eventListEvent.p);!Ud&&V.V&&(d.domLT=V.V-v.a.A,Ud=!0);Vd=!1;Td?persoo.log.info("reportStatistics plugin: "+JSON.stringify(["send","statistics",c,d])):persoo("send","statistics",c,d)}
function Xd(){if(!Ud&&!Vd){Ud=!0;var b={};b.domLT=V.V-v.a.A;Td?persoo.log.info("reportStatistics plugin: "+JSON.stringify(["send","statistics",b])):persoo("send","statistics",b)}}
function Yd(b){for(var c=b.f,d=[],e=0;e<c.length;e++){var f=c[e];d.push({componentType:f.t,eventName:f.O,locationID:f.r,offerID:f.c})}c={};c.persLT=persoo.persooLoadedTimestamp-v.a.A;"undefined"!==typeof b.p&&(c.reqLT=b.p);!Ud&&V.V&&(c.domLT=V.V-v.a.A,Ud=!0);Vd=!1;Td?persoo.log.info("reportStatistics plugin: "+JSON.stringify(["send","statistics",{eventList:d},c])):persoo("send","statistics",{eventList:d},c)}
Qd.register("report-statistics",function(b,c,d,e){e=e||{};c=e.sendEvents||!1;d=e.sendGroupEvents||!1;Td=e.logOnly||Td;Ud=!1;Vd=!0;c&&b.Da.M("persooStats",Wd);d&&(b.Da.M("persooGroupedStats",Yd),y("DOMContentLoaded",t(Xd,this)))});function Zd(b,c,d){this&&this.element&&("default"==b?nd(this,this.element,this.Ta):md(this,this.element,d))}function $d(b,c,d,e,f,g,h,m){this&&this.element&&(img=document.createElement("img"),img.src=e,f&&(img.width=f),g&&(img.height=g),h&&(img.alt=h),a=document.createElement("a"),a.href=d?d:"#",m&&(a.title=m),a.appendChild(img),nd(this,this.element,a))}Qd.register("per-box",function(b){b=b.actions;b.Uc=Zd;b.Vc=$d});var ae=":",be="|",ce="persooEvents",$=[],de=null,ee=!1,fe=null;function ge(b){b=b.actions;b.Qc=he;b.Pc=ie;b.Rc=je;b.Nc=ke;b.Mc=le;b.Oc=me;b.Jc=ne;b.Kc=oe;b.Lc=pe}function qe(){var b=ae,c=be,d,e,f=c;for(d=0;d<arguments.length;d++){e=arguments[d];for(var g in e)e.hasOwnProperty(g)&&("boolean"!==typeof e[g]?f+=g+b+e[g]+c:e[g]&&(f+=g+c))}return f}function he(b){"ga"!=de?$.push(["_trackPageview"].concat([].slice.call(arguments))):(args=["send","pageview"],b&&args.push({page:b}),$.push(args))}
function ie(b,c,d,e,f){"ga"!=de?$.push(["_trackEvent"].concat([].slice.call(arguments))):(args=["send","event"].concat([].splice.call(arguments,0,4)),f&&args.push({nonInteraction:f}),$.push(args))}function ne(){"ga"==de&&$.push(["send","event"].concat([].slice.call(arguments)))}function oe(){"ga"==de&&$.push(["set"].concat([].slice.call(arguments)))}function pe(b,c){var d={};d[c]=qe.apply(this,[].slice.call(arguments,2));b?(d.nonInteraction=!0,ne(ce,"setDimensions",d,0,!0)):oe(d)}
function je(b,c,d,e){$.push(["_trackSocial"].concat([].slice.call(arguments)))}function ke(b,c,d,e){var f=c.length;128<f+d.length&&(d=d.substr(0,128-f),persoo.log.warn("GA plugin: too long argument truncated to 128b: "+JSON.stringify([].slice.call(arguments))));$.push(["_setCustomVar",b,c,d,e])}function le(b){$.push(["_deleteCustomVar"].concat([].slice.call(arguments)))}
function me(b,c,d,e){ke(c,e,qe.apply(this,[].slice.call(arguments,4)),d);b&&$.push(["_trackEvent",ce,"setCustomVar","setCustomVar",0,!0])}function re(b){ie(ce,b.f.r+":"+b.f.c+":"+b.f.O,b.f.label||"(no label)",0,!0)}function se(b){return function(c){b(ce,c.f.r,c.f.c,c.f.O,ie)}}function te(b){var c=ce;b=b.f;for(var d in Lc)if(Lc.hasOwnProperty(d)){for(var e=Lc[d],f=[""],g=0;g<b.length;g++)b[g].O==e&&f.push(b[g].r+":"+b[g].c);1<f.length&&(2<f.length&&f.sort(),f.push(""),ie(c,e,f.join("|"),0,!0))}}
Qd.register("google-analytics",function(b,c,d,e){function f(c,d,e){d=s(d)?se(d):"default"===d?e:null;null!==d&&b.Da.M(c,d)}e=e||{};be=e.Wc||be;ae=e.Xc||ae;de=e.gaVersion?e.gaVersion:"_gaq";ee=e.useGTMTracker||!1;fe=e.trackerName||null;d=e.gaDebugMode?e.gaDebugMode:"off";ce=e.Ic||ce;f("persooStats",e.statsHandler,re);f("persooGroupedStats",e.groupStatsHandler,te);"p"!=b.environment&&(d="logOnly",b.log.info("GA plugin: logOnly in non-production environments."));b.debug&&"off"==d&&(d="on");switch(de){case "pageTracker":$=
{push:function(){for(var d=0;d<arguments.length;d++){var e=arguments[d];p(e)&&0<e.length&&!1===c.pageTracker[e[0]].apply(c.pageTracker,e.slice(1))&&b.log.warn("GA plugin: ignoring too long command "+JSON.stringify([].slice.call(e)))}}};break;case "_gaq":$={push:function(){function d(){for(var b=c._gaq,f=0;f<e.length;f++)fe&&(e[f][0]=fe+"."+e[f][0]);b.push.apply(b,e)}var e=arguments;c._gaq?d():y("DOMContentLoaded",function(){c._gaq?d():b.log.warn("GA plugin: _gaq object does not exists.")})}};break;
case "ga":$={push:function(){function d(){var e=c.ga;if(ee)try{fe=e.getAll()[0].get("name"),b.log.info('GA plugin: GTM tracker name is "'+fe+'"')}catch(g){b.log.warn("GA plugin: error when getting GTM tracker name")}for(var h=0;h<f.length;h++)fe&&(f[h][0]=fe+"."+f[h][0]),e.apply(e,f[h])}var e=c.ga,f=arguments;if(e)e(d);else{var q=1,F=function(){var e=c.ga;e?e(d):(b.log.warn("GA plugin: ga object does not exists, yet."),10>q&&(q++,setTimeout(F,500)))};y("DOMContentLoaded",F)}}}}switch(d){case "on":oldPush=
$.push;$.push=function(){b.log.info("GA plugin: "+JSON.stringify([].slice.call(arguments)));oldPush.apply(this,arguments)};break;case "logOnly":$={push:function(){b.log.info("GA plugin: "+JSON.stringify([].slice.call(arguments)))}}}ge(b)});function ue(b){if(self.screen)b.browserScreenResolution=screen.width+"x"+screen.height;else if(self.java){var c=(0,(0,self.java.awt.Toolkit.getDefaultToolkit)().getScreenSize)();b.browserScreenResolution=c.width+"x"+c.height}}function ve(b){"undefined"!=typeof window.innerWidth&&(b.browserViewportWidth=window.innerWidth,b.browserViewportHeight=window.innerHeight)}
Qd.register("pageview",function(b,c){var d=c[b.dataLayerName],e={};if(c.persoo.jb){ue(e);ve(e);var f=window.navigator;self.screen&&(e.browserColorDepth=screen.colorDepth+"-bit");var g=f.javaEnabled()?"java":"";e.browserExtensions=f.cookieEnabled?"cookies":"";e.browserExtensions+=(e.browserExtensions?",":"")+g;e.browserLanguage="-";f.language?e.browserLanguage=f.language.toLowerCase():f.browserLanguage&&(e.browserLanguage=f.browserLanguage.toLowerCase());e.browserCharset="-";document.characterSet?
e.browserCharset=encodeURI(document.characterSet):document.charset&&(e.browserCharset=encodeURI(document.charset));e.browserTouchScreen="ontouchstart"in window||!!(window.wc&&document instanceof DocumentTouch)}else ue(e),ve(e);d.push(e)});function we(){if(L.get("persooSession"))return!1;var b=1*new Date,c=Tb();L.set("persooSession",b,-1,"/",c);return!0}
function xe(){var b=persoo,c=b.identificationRequestLifeSpan;0>["page","session","browser"].indexOf(c)&&(c&&console.error("persoo: invalid identification life span level"),c="browser");b.identificationRequestLifeSpan=c;b.identificationOnCurrentPage=Q("persooIdentificationOnCurrentPage",!1);c=Q("persooProfileDataCollectionLevel","permanent");0>["doNotTrack","session","permanent"].indexOf(c)&&(c&&console.error("persoo: invalid data collection level"),c="permanent");b.profileDataCollectionLevel=c;var c=
b.identificationRequestLifeSpan,d;a:{d=[];for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=e[f].replace(/\s/g,"");0===g.indexOf("persooVid=")&&d.push(g.substr(g.indexOf("=")+1))}for(e=1;e<d.length;e++)if(d[e-1]!=d[e]){d=!1;break a}d=!0}d||L.remove("persooVid","/");d=L.get("persooVid");"browser"==c?Ub(d)||(d=Vb()):(c=L.get("persooAnonymousVid"),!Ub(d)&&Ub(c)?d=c:Ub(d)&&Ub(c)||(d=Vb(),Zb(d)));M(d);b.browserID=d;b.anonymousBrowserID=dc();b.anonymousBrowserID&&"browser"==b.identificationRequestLifeSpan&&
ac()}
function ye(b){Tc();persoo=b.persoo;persoo.q=persoo.q||[];v.reset();w=[];x={};Qd.reset();qd.reset();v.a.A=persoo.l||v.a.A;v.info("persoo.js - part 1 - starting");persoo.persooLoadedTimestamp=1*new Date;persoo.log=v;persoo.ja=qd.ja;persoo.Sa={bc:na,Eb:oa,Ab:y};V.Ub();persoo.environment=Q("persooEnvironment","p");"test"!=persoo.environment&&"off"!=persoo.environment&&(persoo.environment="p",zc("persooEnvironment"));persoo.debug=Q("persooDebug",!1);persoo.bb=Q("persooAdminBar",null);persoo.nb=Q("persooBar",null);
persoo.Gb=Q("persooDebugConsole",!1);var c=new Fc,d=new Ac(persoo.apikey,persoo.environment),e=persoo;Pc=new U(c);e.Da=Pc;S(d,"_t",1*new Date);S(d,"_v","0.1.0");S(d,"_a","web");(persoo.debug||persoo.nb||persoo.bb)&&S(d,"_debug",!0);b.persoo.qc=xd;y("DOMContentLoaded",zd);v.tb=[];for(var f,g,h=persoo.q,e=0;e<h.length;e++)f=h[e],0<f.length&&"actionScript"==f[0]&&Jd.apply(null,[].slice.call(f,1));g=h.push;h.push=function(){f=arguments[0];0<f.length&&"actionScript"==f[0]?Jd.apply(null,[].slice.call(f,
1)):g.apply(this,arguments)};persoo.kc=M;persoo.jb=we();persoo.pb=Q("rtpHostname","rtp.persoo.ai");na("firstRTPResponseArrived");Kd=[];Ld=[];Md=[];v.info("persoo.js - part 1 - finished");y(["actions.js"],function(){v.info("persoo.js - part 2 - starting after loading actions.js");xe();persoo.dataLayerName=persoo.dataLayerName||ma;var e=persoo.dataLayerName;b[e]=b[e]||[];if(!p(b[e])){for(v.warn("Persoo - dataLayer must be array type, not "+JSON.stringify(b[e]));"undefined"!==typeof b[e];)e+="A";b[e]=
[];persoo.Hc=e;v.warn("Persoo - using alternative dataLayer array '"+e+"[]'")}e=new rd(b[e]);vd(e);var f=new Z(persoo.q,c,d,e);qd.Y(persoo.locations||{});b.persooLoader&&b.persooLoader.finish();e=persoo;b.persoo=function(){return f.na.apply(f,arguments)};persoo=b.persoo;for(var g in e)e.hasOwnProperty(g)&&(persoo[g]=e[g]);Pd();Gd(f);persoo("onLoad",function(){oa("firstRTPResponseArrived")});persoo("onError",function(){oa("firstRTPResponseArrived")});persoo.bb&&Bd();persoo.Gb&&Cd();persoo.nb&&Dd();
v.info("persoo.js - part 2 - finished")})};function ze(b,c){U.prototype.addHandler=U.prototype.M;U.prototype.removeHandler=U.prototype.cc;U.prototype.getEventData=U.prototype.Lb;U.prototype.report=U.prototype.Va;Fc.EventType=Gc;V.init=V.Y;Z.prototype.send=Z.prototype.send;Z.prototype.sendAndWait=Z.prototype.hc;Z.prototype.onLoad=Z.prototype.Ba;Z.prototype.onError=Z.prototype.Ra;Z.prototype.onEachLoad=Z.prototype.Pa;Z.prototype.onLocationsRendered=Z.prototype.Zb;Z.prototype.updateLocationTracking=Z.prototype.F;Z.prototype.getMessages=Z.prototype.Mb;
Z.prototype.getUserSpace=Z.prototype.Nb;Z.prototype.showDebugConsole=Z.prototype.mc;Z.prototype.hideDebugConsole=Z.prototype.Qb;Z.prototype.showAdminBar=Z.prototype.lc;Z.prototype.hideAdminBar=Z.prototype.Pb;Z.prototype.showPersooBar=Z.prototype.nc;Z.prototype.hidePersooBar=Z.prototype.Rb;Z.prototype.actionScript=Z.prototype.ab;Z.prototype.addAction=Z.prototype.zb;Z.prototype.deleteVid=Z.prototype.Hb;Z.prototype.resetVisitor=Z.prototype.fc;Z.prototype.anonymize=Z.prototype.Cb;Z.prototype.endSession=
Z.prototype.Jb;Z.prototype.setEnvironment=Z.prototype.ic;Z.prototype.unsetEnvironment=Z.prototype.rc;Z.prototype.setRTPEndpoint=Z.prototype.jc;Z.prototype.debug=Z.prototype.debug;ye(c);Ae();c.persoo.loaded=!0}
function Ae(){u("persoo.actions",persoo.Ec);u("persoo.apikey",persoo.Fa);u("persoo.environment",persoo.environment);u("persoo.isFirstPageInSession",persoo.jb);u("persoo.rtpEndpoint",persoo.pb);u("persoo.reloadPersoo",ze);u("persoo.setVIDCookie",persoo.kc);u("persoo.setBrowserID",M);u("persoo.deleteBrowserID",bc);u("persoo.visitorID",persoo.Yc);u("persoo.setVisitorID",M);u("persoo.deleteVisitorID",bc);u("persoo.trigger",persoo.qc);u("persoo.response.push",Nd);u("persoo.log",persoo.log);u("persoo.log.triggeredActions",
persoo.log.tb);u("persoo.utils.throttle",qa);u("persoo.on",function(b,c){y([b],c)});u("persoo.exceptionLog",Ld);u("persoo.debugInfoLog",Md);u("persoo.responseLog",Kd);u("persoo.onReadyHooks.registerResource",persoo.Sa.bc);u("persoo.onReadyHooks.confirmResourceLoaded",persoo.Sa.Eb);u("persoo.onReadyHooks.addOnLoadHandler",persoo.Sa.Ab);u("persoo.offersInLocations",persoo.ja);u("persoo.statsReporter",persoo.Da);u("persoo.RequestManager",Fc);u("persoo.DOMContentLoaded",V);u("persoo.actions.showHTMLBox",
Zd);u("persoo.actions.showIMG",$d);u("persoo.actions.googleAnalyticsTrackPageview",he);u("persoo.actions.googleAnalyticsTrackEvent",ie);u("persoo.actions.googleAnalyticsTrackSocial",je);u("persoo.actions.googleAnalyticsSetCustomVar",ke);u("persoo.actions.googleAnalyticsDeleteCustomVar",le);u("persoo.actions.googleAnalyticsSetTagsToCustomVar",me);u("persoo.actions.gaEvent",ne);u("persoo.actions.gaSet",oe);u("persoo.actions.gaSetTagsToDimension",pe);u("persoo.plugins.FormCollection.handleSubmit",Sd)}
window.persoo&&window.persoo.loaded||ze(0,window);}).call(window);
